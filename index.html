<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="" href="./Img/Logo sura.jpg">
<title>Certificados tributarios</title>

<style>

@font-face {
    font-family: "FSJoey-Medium";
    src: url(FSJoey-Medium.otf);
    
    }


:root{
    --azul-oscuro-sura:#0033A0;
    --verde-claro-sura:#ECF166;
    --azul-claro-sura:#00AEC7;
    --gris-claro-sura:#BBBCBC;
    --blanco-sura:#FFFFFF;
    --amarillo-tigre-sura:#FFD635;
    --gris-sura:#54585A;
    --negro-sura:#101820;
}

body {
    background-color: #FFFFFF;
    font-family: "FSJoey-Medium",Arial, sans-serif;
    text-align: left;
    color: white;
    margin: 0;
    padding: 0;
  }

  .container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }


  form {
    width: 400px;
    padding: 20px;
    background-color:var(--gris-claro-sura);
    border-radius: 10px;
    box-sizing: border-box;
    font-family: "FSJoey-Medium";
  }

  label {
    display: block;
    margin-bottom: 5px;
  }

  select, input[type="text"], input[type="email"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: none;
    border-radius: 5px;
    background-color: var(--blanco-sura);
    color: var(--gris-sura);
    box-sizing: border-box;
  }

  input[type="submit"] {
    background-color: #0033A0;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    font-family: "FSJoey-Medium";
  }
  input[type="submit"]:hover{background-color:var(--azul-claro-sura)}

  .boton{
    justify-content: center;
    display: flex;
  }


  #popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color:var(--azul-oscuro-sura);
    padding: 20px;
    border-radius: 10px;
    z-index: 999;
  }

  #popup-content {
    text-align: center;
  }

  #close-button {
    background-color: var(--gris-claro-sura);
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
  }

  #image {
    position: absolute;
    top: 0;
    right: 0;
    width: 150px;
    height: auto;
  }
</style>
</head>
<body>
  <div class="container">
    <img id="image" src="https://www.gruposura.com/wp-content/uploads/2018/09/Segurostendencias-y-riesgos_color_pos_RGB.png" alt="Logo">
    <form id="formulario">
      <label for="nombre">Nombre completo:</label>
      <input type="text" id="nombre" name="nombre" required>

      <label for="tipoDocumento">Tipo de documento:</label>
      <select id="tipoDocumento" name="tipoDocumento" required>
        <option value="Pasaporte">Pasaporte</option>
        <option value="Cedula de ciudadania">Cédula de ciudadanía</option>
        <option value="Cedula extranjeria">Cédula de extranjería</option>
        <option value="Tarjeta de identidad">Tarjeta de identidad</option>
        <option value="Otro">Otro</option>
      </select>

      <label for="numeroDocumento">Número de documento:</label>
      <input type="text" id="numeroDocumento" name="numeroDocumento" required>

      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" name="correo" required>

      <label for="tipoSolucion">Tipo de Solución:</label>
      <select id="tipoSolucion" name="tipoSolucion" required>
        <option value="" disabled selected>Seleccionar</option>
        <option value="1">Pensión</option>
        <option value="2">Fondo de ahorro</option>
        <option value="3">Seguro de Educación</option>
        <option value="4">Rentas Vitalicias</option>
        <option value="5">Pensiones ARL</option>
      </select>

      <label for="tipoFormulario">Tipo de Formulario:</label>
      <select id="tipoFormulario" name="tipoFormulario" required>
        <!-- Opciones de acuerdo a la selección de tipoSolucion -->
      </select>
       <!-- 
      <label for="adjunto">Adjuntar archivo:</label>
      <input type="file" id="adjunto" name="adjunto">

      esta cualidad es para enviar datos adjuntos

      -->
    <div class="boton">
      <input type="submit" value="Enviar">
    </div>
    </form>
  </div>

  <div id="popup">
    <div id="popup-content">
      <p>Gracias por diligenciar el formulario. En aproximadamente 2 horas recibirás el certificado vía correo electrónico.</p>
      <button id="close-button">Cerrar</button>
    </div>
  </div>

  <script>
    /* Tu script anterior aquí... */

    const tipoSolucionSelect = document.getElementById('tipoSolucion');
    const tipoFormularioSelect = document.getElementById('tipoFormulario');
    const formulario = document.getElementById('formulario');
    const popup = document.getElementById('popup');
    const closeButton = document.getElementById('close-button');
    const adjuntoInput = document.getElementById('adjunto');

    tipoSolucionSelect.addEventListener('change', (event) => {
      const selectedOption = event.target.value;
      tipoFormularioSelect.innerHTML = '';

      switch (selectedOption) {
        case '1':
          tipoFormularioSelect.innerHTML = '<option value="Certificado de Pensión">Certificado de Pensión</option>';
          break;
        case '2':
          tipoFormularioSelect.innerHTML = '<option value="Certificado de Fondo de Ahorro">Certificado de Fondo de Ahorro</option>';
          break;
        case '3':
          tipoFormularioSelect.innerHTML = '<option value="Certificado de Seguro de Educación">Certificado de Seguro de Educación</option>';
          break;
        case '4':
          tipoFormularioSelect.innerHTML = '<option value="Certificado Pensional Rentas Vitalicias">Certificado Pensional Rentas Vitalicias</option><option value="Informe de pagos y deducciones Rentas Vitalicias">Informe de pagos y deducciones Rentas Vitalicias</option><option value="Certificado de ingresos y retenciones Rentas Vitalicias">Certificado de ingresos y retenciones Rentas Vitalicias</option>';
          break;
        case '5':
          tipoFormularioSelect.innerHTML = '<option value="Certificado Pensional ARL">Certificado Pensional ARL</option><option value="Informe de pagos y deducciones ARL">Informe de pagos y deducciones ARL</option><option value="Certificado de ingresos y retenciones ARL">Certificado de ingresos y retenciones ARL</option>';
          break;
        default:
          break;
      }
    });

    formulario.addEventListener('submit', (event) => {
      event.preventDefault();

      const tipoDocumento = document.getElementById('tipoDocumento').value;
      const numeroDocumento = document.getElementById('numeroDocumento').value;
      const correoElectronico = document.getElementById('correo').value;
      const certificadoSolicitado = document.getElementById('tipoFormulario').value;
      const nombre = document.getElementById('nombre').value;
      /*const adjuntoFile = adjuntoInput.files[0];*/
      
      const datos = {
        "tipoDocumento": tipoDocumento,
        "numeroDocumento": numeroDocumento,
        "correoElectronico": correoElectronico,
        "certificadoSolicitado": certificadoSolicitado,
        "nombre":nombre,
        "origenSolicitud":"Pagina Web"
      };

      fetch('https://prod-166.westus.logic.azure.com:443/workflows/b44bbbcb1bc34052afef5833a787340d/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=_AUWQ3k3DaNXjo8Ko0Jzx0NMDXDPkI5TRYFTscVZnxY', {
        method: 'POST',
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(datos)
      })
      .then((response) => response.text())
      .then((text) => {
        popup.style.display = 'block';
      });
    });

    closeButton.addEventListener('click', () => {
      popup.style.display = 'none';
      formulario.reset();
    });
  </script>
</body>
</html>
